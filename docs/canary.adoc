= Canary
:copyright: Copyright 2020 Damian Jarek
:version-label!:
:reproducible:
:nofooter:
:sectanchors:
:sectnums:
:sectnumlevels: 5
:icons: font
:source-highlighter: prettify
:source-language: c++
:toc: left
:toclevels: 3
:caution-caption: ⚑
:important-caption: ‼
:note-caption: ℹ
:tip-caption: ☀
:warning-caption: ⚠
:CPP: C++
:PP: ++
:P: +
:tabsize: 4
:git-source-link: ..
:docinfo: shared,private

include::../README.adoc[]

== ABI compatibility
The library does not guarantee ABI compatibility between different
configurations or versions of the library.

WARNING: The library may "just work" if you link translation units compiled with
different configurations, but it may break in the future.

== Examples

The examples can be compiled by setting the `CANARY_BUILD_EXAMPLES` flat to `ON`. C++20 coroutine examples require the option `CANARY_BUILD_COROUTINE_EXAMPLES` to be set to `ON` as well.

[source, bash]
----
cmake -H. -Bbuild -DCANARY_BUILD_EXAMPLES=ON -DCANARY_BUILD_COROUTINE_EXAMPLES=ON
cmake --build build --target canary_examples
----


=== Asynchronous raw CAN, using C++20 coroutines

[source, c++]
----
include::../examples/raw/async/cpp20_coro.cpp[tag=example]
----

=== Blocking raw CAN

[source, c++]
----
include::../examples/raw/blocking/blocking.cpp[tag=example]
----

=== Asynchronous ISO-TP, using C++20 coroutines
[source, c++]
----
include::../examples/isotp/async/cpp20_coro.cpp[tag=example]
----
=== Blocking ISO-TP

[source, c++]
----
include::../examples/isotp/blocking/blocking.cpp[tag=example]
----



== Reference

include::../include/canary/interface_index.hpp[tag=reference]

include::../include/canary/basic_endpoint.hpp[tag=reference]

include::../include/canary/filter.hpp[tag=reference]

include::../include/canary/frame_header.hpp[tag=reference]

include::../include/canary/isotp.hpp[tag=reference]

include::../include/canary/raw.hpp[tag=reference]

include::../include/canary/socket_options.hpp[tag=reference]
